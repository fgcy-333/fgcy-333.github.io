<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>第05章-排序与分页-atguigu-shk | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="第05章_排序与分页 1. 排序数据1.1 排序规则如果没有使用排序规则，默认按照添加顺序进行排序  使用 ORDER BY 子句排序 ASC（ascend）: 升序 DESC（descend）:降序   ORDER BY 子句在SELECT语句的结尾【sql执行顺序】">
<meta property="og:type" content="article">
<meta property="og:title" content="第05章-排序与分页-atguigu-shk">
<meta property="og:url" content="http://example.com/2023/03/30/%E7%AC%AC05%E7%AB%A0-%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%88%86%E9%A1%B5-atguigu-shk/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="第05章_排序与分页 1. 排序数据1.1 排序规则如果没有使用排序规则，默认按照添加顺序进行排序  使用 ORDER BY 子句排序 ASC（ascend）: 升序 DESC（descend）:降序   ORDER BY 子句在SELECT语句的结尾【sql执行顺序】">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-03-30T12:01:23.000Z">
<meta property="article:modified_time" content="2023-03-30T13:10:13.512Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="尚硅谷-宋红康-MySQL(初级)">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-第05章-排序与分页-atguigu-shk" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/30/%E7%AC%AC05%E7%AB%A0-%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%88%86%E9%A1%B5-atguigu-shk/" class="article-date">
  <time class="dt-published" datetime="2023-03-30T12:01:23.000Z" itemprop="datePublished">2023-03-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%A7%86%E9%A2%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">视频学习笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      第05章-排序与分页-atguigu-shk
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="第05章-排序与分页"><a href="#第05章-排序与分页" class="headerlink" title="第05章_排序与分页"></a>第05章_排序与分页</h1><hr>
<h2 id="1-排序数据"><a href="#1-排序数据" class="headerlink" title="1. 排序数据"></a>1. 排序数据</h2><h3 id="1-1-排序规则"><a href="#1-1-排序规则" class="headerlink" title="1.1 排序规则"></a>1.1 排序规则</h3><p>如果没有使用排序规则，默认按照添加顺序进行排序</p>
<ul>
<li>使用 ORDER BY 子句排序<ul>
<li><strong>ASC（ascend）: 升序</strong></li>
<li><strong>DESC（descend）:降序</strong></li>
</ul>
</li>
<li><strong>ORDER BY 子句在SELECT语句的结尾</strong>【sql执行顺序】</li>
</ul>
<span id="more"></span>

<h3 id="1-2-单列排序"><a href="#1-2-单列排序" class="headerlink" title="1.2 单列排序"></a>1.2 单列排序</h3><ul>
<li><strong>按照salary从高到低的顺序显示员工信息</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name,salary</span><br><span class="line">FROM employees</span><br><span class="line">ORDER BY salary DESC;</span><br><span class="line"></span><br><span class="line">+-------------+-------------+----------+</span><br><span class="line">| employee_id | last_name   | salary   |</span><br><span class="line">+-------------+-------------+----------+</span><br><span class="line">|         100 | King        | 24000.00 |</span><br><span class="line">|         101 | Kochhar     | 17000.00 |</span><br><span class="line">|         132 | Olson       |  2100.00 |</span><br><span class="line">+-------------+-------------+----------+</span><br><span class="line">107 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>按照salary从低到高的顺序显示员工信息</strong></li>
</ul>
<p>​		默认就是降序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name,salary</span><br><span class="line">FROM employees</span><br><span class="line">ORDER BY salary ASC;</span><br><span class="line"></span><br><span class="line">SELECT employee_id,last_name,salary</span><br><span class="line">FROM employees</span><br><span class="line">ORDER BY salary; --  如果在ORDER BY 后没有显式指名排序的方式的话，则默认按照升序排列</span><br><span class="line"></span><br><span class="line">+-------------+-------------+----------+</span><br><span class="line">| employee_id | last_name   | salary   |</span><br><span class="line">+-------------+-------------+----------+</span><br><span class="line">|         132 | Olson       |  2100.00 |</span><br><span class="line">|         128 | Markle      |  2200.00 |</span><br><span class="line">|         183 | Geoni       |  2800.00 |</span><br><span class="line">|         193 | Everett     |  3900.00 |</span><br><span class="line">|         102 | De Haan     | 17000.00 |</span><br><span class="line">|         100 | King        | 24000.00 |</span><br><span class="line">+-------------+-------------+----------+</span><br><span class="line">107 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>





<h2 id="使用列的别名，进行排序"><a href="#使用列的别名，进行排序" class="headerlink" title="使用列的别名，进行排序"></a>使用列的别名，进行排序</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,salary,salary * 12 annual_sal  </span><br><span class="line">FROM employees    </span><br><span class="line">ORDER BY annual_sal;</span><br><span class="line"></span><br><span class="line">+-------------+----------+------------+</span><br><span class="line">| employee_id | salary   | annual_sal |</span><br><span class="line">+-------------+----------+------------+</span><br><span class="line">|         132 |  2100.00 |   25200.00 |</span><br><span class="line">|         128 |  2200.00 |   26400.00 |</span><br><span class="line">|         136 |  2200.00 |   26400.00 |</span><br><span class="line">|         127 |  2400.00 |   28800.00 |</span><br><span class="line">|         135 |  2400.00 |   28800.00 |</span><br><span class="line">.......................................</span><br><span class="line">|         147 | 12000.00 |  144000.00 |</span><br><span class="line">|         205 | 12000.00 |  144000.00 |</span><br><span class="line">|         201 | 13000.00 |  156000.00 |</span><br><span class="line">|         146 | 13500.00 |  162000.00 |</span><br><span class="line">|         145 | 14000.00 |  168000.00 |</span><br><span class="line">|         101 | 17000.00 |  204000.00 |</span><br><span class="line">|         102 | 17000.00 |  204000.00 |</span><br><span class="line">|         100 | 24000.00 |  288000.00 |</span><br><span class="line">+-------------+----------+------------+</span><br><span class="line">107 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>注意</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#列的别名只能在 ORDER BY 中使用，不能在WHERE中使用。</span><br><span class="line">#如下操作报错！</span><br><span class="line">SELECT employee_id,salary,salary * 12 annual_sal    【3】</span><br><span class="line">FROM employees										【1】</span><br><span class="line">WHERE annual_sal &gt; 81600;   						【2】</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>强调格式：WHERE 需要声明在FROM后，ORDER BY之前</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,salary				【3】</span><br><span class="line">FROM employees							【1】</span><br><span class="line">WHERE department_id IN (50,60,70)		【2】</span><br><span class="line">ORDER BY department_id DESC;			【4】</span><br></pre></td></tr></table></figure>



<h3 id="1-3-多列排序"><a href="#1-3-多列排序" class="headerlink" title="1.3 多列排序"></a>1.3 多列排序</h3><p>此处以二级排序为例：</p>
<ul>
<li><strong>显示员工信息，按照department_id的降序排列，salary的升序排列</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT employee_id,salary,department_id</span><br><span class="line">   		FROM employees</span><br><span class="line">   		ORDER BY department_id DESC,salary ASC;</span><br><span class="line">   		</span><br><span class="line">   		</span><br><span class="line">+-------------+----------+---------------+</span><br><span class="line">| employee_id | salary   | department_id |</span><br><span class="line">+-------------+----------+---------------+</span><br><span class="line">|         206 |  8300.00 |           110 |</span><br><span class="line">|         205 | 12000.00 |           110 |</span><br><span class="line">|         181 |  3100.00 |            50 |</span><br><span class="line">|         196 |  3100.00 |            50 |</span><br><span class="line">|         201 | 13000.00 |            20 |</span><br><span class="line">|         200 |  4400.00 |            10 |</span><br><span class="line">|         178 |  7000.00 |          NULL |</span><br><span class="line">+-------------+----------+---------------+</span><br><span class="line">107 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>可以使用不在SELECT列表中的列排序（先确定从那个表获取数据，再过滤一波数据，然后才是获取指定的字段，接着进行排序，分页…..）</p>
</li>
<li><p>在对多列进行排序的时候，首先   <strong>排序的第一列必须有相同的列值</strong>  ，  <strong>才会对第二列进行排序</strong>   。</p>
<p>如果第一列数据中所有值都是唯一的，<strong>将不再对第二列进行排序</strong></p>
</li>
</ul>
<h2 id="2-分页"><a href="#2-分页" class="headerlink" title="2. 分页"></a>2. 分页</h2><h3 id="2-1-背景"><a href="#2-1-背景" class="headerlink" title="2.1 背景"></a>2.1 背景</h3><p>背景1：查询返回的记录太多了，查看起来很不方便，怎么样能够实现分页查询呢？</p>
<p>背景2：表里有 4 条数据，我们只想要显示第 2、3 条数据怎么办呢？</p>
<h3 id="2-2-实现规则"><a href="#2-2-实现规则" class="headerlink" title="2.2 实现规则"></a>2.2 实现规则</h3><ul>
<li><p>分页原理</p>
<p>所谓分页显示，就是将数据库中的结果集，一段一段显示出来需要的条件。</p>
</li>
<li><p><strong>MySQL中使用 LIMIT 实现分页</strong></p>
</li>
<li><p>格式：</p>
</li>
</ul>
<blockquote>
<p>LIMIT [位置偏移量,] 行数</p>
</blockquote>
<p>第一个“位置偏移量”参数指示MySQL从哪一行开始显示，是一个可选参数，如果不指定“位置偏移量”，将会从表中的第一条记录开始</p>
<p>(第一条记录的位置偏移量是0，第二条记录的位置偏移量是1，以此类推）；</p>
<p>第二个参数“行数”指示返回的记录条数。</p>
<ul>
<li>举例</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- 前10条记录：（第一页）</span><br><span class="line">SELECT * FROM 表名 LIMIT 0,10;</span><br><span class="line"></span><br><span class="line">-- 或者</span><br><span class="line"></span><br><span class="line">SELECT * FROM 表名 LIMIT 10;</span><br><span class="line"></span><br><span class="line">--第11至20条记录： （第二页）</span><br><span class="line">SELECT * FROM 表名 LIMIT 10,10;</span><br><span class="line"></span><br><span class="line">--第21至30条记录： （第三页）</span><br><span class="line">SELECT * FROM 表名 LIMIT 20,10;</span><br></pre></td></tr></table></figure>





<ul>
<li>分页显式公式<strong>：</strong></li>
</ul>
<blockquote>
<p>（当前页数-1）*每页条数，每页条数</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM table </span><br><span class="line">LIMIT(PageNo - 1)*PageSize,PageSize;</span><br></pre></td></tr></table></figure>

<p><strong>注意：LIMIT 子句必须放在整个SELECT语句的最后！</strong></p>
<ul>
<li>使用 LIMIT 的好处</li>
</ul>
<p>​		约束返回结果的数量可以<code>减少数据表的网络传输量</code>，也可以<code>提升查询效率</code>。</p>
<p>​		如果我们知道返回结果只有 1 条，就可以使用<code>LIMIT 1</code>，告诉 SELECT 语句只需要返回一条记录即可。</p>
<p>​		这样的好处就是 SELECT 不需要扫描完整的表，只需要检索到一条符合条件的记录即可返回。</p>
<h2 id="WHERE-、ORDER-BY-、LIMIT-声明顺序"><a href="#WHERE-、ORDER-BY-、LIMIT-声明顺序" class="headerlink" title="WHERE 、ORDER BY  、LIMIT 声明顺序"></a>WHERE 、ORDER BY  、LIMIT 声明顺序</h2><p><strong>注意：这不是执行顺序</strong></p>
<ul>
<li><strong>如下</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name,salary</span><br><span class="line">FROM employees</span><br><span class="line">WHERE salary &gt; 6000</span><br><span class="line">ORDER BY salary DESC</span><br><span class="line">-- limit 0,10;</span><br><span class="line">LIMIT 10;</span><br><span class="line"></span><br><span class="line">+-------------+-----------+----------+</span><br><span class="line">| employee_id | last_name | salary   |</span><br><span class="line">+-------------+-----------+----------+</span><br><span class="line">|         100 | King      | 24000.00 |</span><br><span class="line">|         101 | Kochhar   | 17000.00 |</span><br><span class="line">|         102 | De Haan   | 17000.00 |</span><br><span class="line">|         145 | Russell   | 14000.00 |</span><br><span class="line">|         146 | Partners  | 13500.00 |</span><br><span class="line">|         201 | Hartstein | 13000.00 |</span><br><span class="line">|         108 | Greenberg | 12000.00 |</span><br><span class="line">|         147 | Errazuriz | 12000.00 |</span><br><span class="line">|         205 | Higgins   | 12000.00 |</span><br><span class="line">|         168 | Ozer      | 11500.00 |</span><br><span class="line">+-------------+-----------+----------+</span><br><span class="line">10 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>注意</strong></li>
</ul>
<blockquote>
<p>结构”LIMIT 0,条目数” 等价于 “LIMIT 条目数”</p>
</blockquote>
<ul>
<li><strong>表里有107条数据，我们只想要显示第 32、33 条数据</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name</span><br><span class="line">FROM employees</span><br><span class="line">LIMIT 31,2; -- 偏移量从0开始</span><br><span class="line"></span><br><span class="line">+-------------+-----------+</span><br><span class="line">| employee_id | last_name |</span><br><span class="line">+-------------+-----------+</span><br><span class="line">|         131 | Marlow    |</span><br><span class="line">|         132 | Olson     |</span><br><span class="line">+-------------+-----------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>查询员工表中工资最高的员工信息</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name,salary</span><br><span class="line">FROM employees</span><br><span class="line">ORDER BY salary DESC</span><br><span class="line">#limit 0,1</span><br><span class="line">LIMIT 1;</span><br><span class="line"></span><br><span class="line">+-------------+-----------+----------+</span><br><span class="line">| employee_id | last_name | salary   |</span><br><span class="line">+-------------+-----------+----------+</span><br><span class="line">|         100 | King      | 24000.00 |</span><br><span class="line">+-------------+-----------+----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h2 id="MySQL8-0新特性：LIMIT-…-OFFSET-…"><a href="#MySQL8-0新特性：LIMIT-…-OFFSET-…" class="headerlink" title="MySQL8.0新特性：LIMIT … OFFSET …"></a>MySQL8.0新特性：LIMIT … OFFSET …</h2><ul>
<li><strong>表里有107条数据，我们只想要显示第 32、33 条数据</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name</span><br><span class="line">FROM employees</span><br><span class="line">LIMIT 2 OFFSET 31;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<p><strong>后面的是偏移量，前面的是取多少条记录</strong></p>
<blockquote>
<p>MySQL 8.0中可以使用“LIMIT 3 OFFSET 4”，意思是获取从第5条记录开始后面的3条记录，和“LIMIT 4,3;”返回的结果相同</p>
</blockquote>
<h3 id="2-3-拓展（了解）"><a href="#2-3-拓展（了解）" class="headerlink" title="2.3 拓展（了解）"></a>2.3 拓展（了解）</h3><p>在不同的 DBMS 中使用的关键字可能不同。在 MySQL、PostgreSQL、MariaDB 和 SQLite 中使用 LIMIT 关键字，而且需要放到 SELECT 语句的最后面。</p>
<ul>
<li>如果是 SQL Server 和 Access，需要使用 <code>TOP</code> 关键字，比如：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP 5 name, hp_max FROM heros ORDER BY hp_max DESC</span><br></pre></td></tr></table></figure>



<ul>
<li>如果是 DB2，使用<code>FETCH FIRST 5 ROWS ONLY</code>这样的关键字：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT name, hp_max FROM heros ORDER BY hp_max DESC FETCH FIRST 5 ROWS ONLY</span><br></pre></td></tr></table></figure>



<ul>
<li>如果是 Oracle，你需要基于 <code>ROWNUM</code> 来统计行数：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT rownum,last_name,salary FROM employees WHERE rownum &lt; 5 ORDER BY salary DESC;</span><br></pre></td></tr></table></figure>

<p>需要说明的是，这条语句是先取出来前 5 条数据行，然后再按照 hp_max 从高到低的顺序进行排序。但这样产生的结果和上述方法的并不一样。我会在后面讲到子查询，你可以使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT rownum, last_name,salary</span><br><span class="line">FROM (</span><br><span class="line">    SELECT last_name,salary</span><br><span class="line">    FROM employees</span><br><span class="line">    ORDER BY salary DESC)</span><br><span class="line">WHERE rownum &lt; 10;</span><br></pre></td></tr></table></figure>

<p>得到与上述方法一致的结果</p>
<h2 id="方言-LIMIT"><a href="#方言-LIMIT" class="headerlink" title="方言 LIMIT"></a>方言 LIMIT</h2><p>1· LIMIT 可以使用在<code>MySQL、PGSQL、MariaDB、SQLite</code> 等数据库中使用，表示分页。<br>2· 不能使用在<code>SQL Server、DB2、Oracle</code>！</p>
<h1 id="课后练习"><a href="#课后练习" class="headerlink" title="课后练习"></a>课后练习</h1><ul>
<li>查询员工的姓名和部门号和年薪，按年薪降序,按姓名升序显示</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">SELECT last_name,department_id,salary * 12 annual_salary -- 【2】</span><br><span class="line">FROM employees	-- 【1】</span><br><span class="line">ORDER BY annual_salary DESC,last_name ASC;-- 【3】</span><br><span class="line"></span><br><span class="line">+-------------+---------------+---------------+</span><br><span class="line">| last_name   | department_id | annual_salary |</span><br><span class="line">+-------------+---------------+---------------+</span><br><span class="line">| King        |            90 |     288000.00 |</span><br><span class="line">| De Haan     |            90 |     204000.00 |</span><br><span class="line">| Partners    |            80 |     162000.00 |</span><br><span class="line">| Hartstein   |            20 |     156000.00 |</span><br><span class="line">| Gee         |            50 |      28800.00 |</span><br><span class="line">| Landry      |            50 |      28800.00 |</span><br><span class="line">| Markle      |            50 |      26400.00 |</span><br><span class="line">| Philtanker  |            50 |      26400.00 |</span><br><span class="line">| Olson       |            50 |      25200.00 |</span><br><span class="line">+-------------+---------------+---------------+</span><br><span class="line">107 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>选择工资不在 8000 到 17000 的员工的姓名和工资，按工资降序，显示第21到40位置的数据</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">SELECT last_name,salary -- 【3】</span><br><span class="line">FROM employees -- 【1】</span><br><span class="line">WHERE salary NOT BETWEEN 8000 AND 17000 -- 【2】</span><br><span class="line">ORDER BY salary DESC-- 【4】</span><br><span class="line">LIMIT 20,20; -- 【5】</span><br><span class="line"></span><br><span class="line">+-----------+---------+</span><br><span class="line">| last_name | salary  |</span><br><span class="line">+-----------+---------+</span><br><span class="line">| Ernst     | 6000.00 |</span><br><span class="line">| Fay       | 6000.00 |</span><br><span class="line">| Mourgos   | 5800.00 |</span><br><span class="line">| Austin    | 4800.00 |</span><br><span class="line">| Pataballa | 4800.00 |</span><br><span class="line">| Whalen    | 4400.00 |</span><br><span class="line">| Mallin    | 3300.00 |</span><br><span class="line">| Stiles    | 3200.00 |</span><br><span class="line">| Nayer     | 3200.00 |</span><br><span class="line">+-----------+---------+</span><br><span class="line">20 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>查询邮箱中包含 e 的员工信息，并先按邮箱的字节数降序，再按部门号升序</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name,email,department_id</span><br><span class="line">FROM employees</span><br><span class="line">-- where email like &#x27;%e%&#x27;</span><br><span class="line">WHERE email REGEXP &#x27;e&#x27;</span><br><span class="line">ORDER BY LENGTH(email) DESC,department_id;</span><br><span class="line"></span><br><span class="line">+-------------+------------+----------+---------------+</span><br><span class="line">| employee_id | last_name  | email    | department_id |</span><br><span class="line">+-------------+------------+----------+---------------+</span><br><span class="line">|         201 | Hartstein  | MHARTSTE |            20 |</span><br><span class="line">|         114 | Raphaely   | DRAPHEAL |            30 |</span><br><span class="line">|         119 | Colmenares | KCOLMENA |            30 |</span><br><span class="line">|         151 | Bernstein  | DBERNSTE |            80 |</span><br><span class="line">|         150 | Tucker     | PTUCKER  |            80 |</span><br><span class="line">|         161 | Sewall     | SSEWALL  |            80 |</span><br><span class="line">|         158 | McEwen     | AMCEWEN  |            80 |</span><br><span class="line">|         145 | Russell    | JRUSSEL  |            80 |</span><br><span class="line">|         110 | Chen       | JCHEN    |           100 |</span><br><span class="line">|         135 | Gee        | KGEE     |            50 |</span><br><span class="line">|         139 | Seo        | JSEO     |            50 |</span><br><span class="line">|         165 | Lee        | DLEE     |            80 |</span><br><span class="line">+-------------+------------+----------+---------------+</span><br><span class="line">47 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/30/%E7%AC%AC05%E7%AB%A0-%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%88%86%E9%A1%B5-atguigu-shk/" data-id="clfv6vsvu000ee4cx8f6ubwps" data-title="第05章-排序与分页-atguigu-shk" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B0%9A%E7%A1%85%E8%B0%B7-%E5%AE%8B%E7%BA%A2%E5%BA%B7-MySQL-%E5%88%9D%E7%BA%A7/" rel="tag">尚硅谷-宋红康-MySQL(初级)</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/03/30/%E7%AC%AC06%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2-atguigu-shk/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          第06章-多表查询-atguigu-shk
        
      </div>
    </a>
  
  
    <a href="/2023/03/30/%E7%AC%AC04%E7%AB%A0-%E8%BF%90%E7%AE%97%E7%AC%A6-atguigu-shk/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">第04章-运算符-atguigu-shk</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">博客学习笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%A7%86%E9%A2%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">视频学习笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AIO/" rel="tag">AIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BIO/" rel="tag">BIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO%E6%A8%A1%E5%9E%8B-heima/" rel="tag">IO模型-heima</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM-heima/" rel="tag">JVM-heima</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E5%9F%BA%E7%A1%80-heima/" rel="tag">Java基础-heima</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95-atguigu/" rel="tag">Java数据结构与算法-atguigu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-DongLi/" rel="tag">Mybatis-DongLi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NIO/" rel="tag">NIO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-DongLi/" rel="tag">Spring-DongLi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot-DongLi/" rel="tag">SpringBoot-DongLi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC-DongLi/" rel="tag">SpringMVC-DongLi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringSecurity-sg/" rel="tag">SpringSecurity-sg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue-atguigu/" rel="tag">Vue-atguigu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dubbo-heima/" rel="tag">dubbo-heima</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-atguigu/" rel="tag">git-atguigu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%9F%BA%E7%A1%80-itcast/" rel="tag">java基础-itcast</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-itcast/" rel="tag">java并发-itcast</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E6%A1%86%E6%9E%B6-itcast/" rel="tag">java框架-itcast</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E8%99%9A%E6%8B%9F%E6%9C%BA-itcast/" rel="tag">java虚拟机-itcast</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/servlet/" rel="tag">servlet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8B%E5%8A%A1/" rel="tag">事务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86-DongLi/" rel="tag">动态代理-DongLi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%9A%E7%A1%85%E8%B0%B7/" rel="tag">尚硅谷</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%9A%E7%A1%85%E8%B0%B7-%E5%AE%8B%E7%BA%A2%E5%BA%B7-MySQL-%E5%88%9D%E7%BA%A7/" rel="tag">尚硅谷-宋红康-MySQL(初级)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%9A%E7%A1%85%E8%B0%B7-%E5%AE%8B%E7%BA%A2%E5%BA%B7-MySQL-%E9%AB%98%E7%BA%A7/" rel="tag">尚硅谷-宋红康-MySQL(高级)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80-msb/" rel="tag">操作系统基础-msb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" rel="tag">网络基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A9%AC%E5%A3%AB%E5%85%B5/" rel="tag">马士兵</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AIO/" style="font-size: 10px;">AIO</a> <a href="/tags/BIO/" style="font-size: 10px;">BIO</a> <a href="/tags/IO%E6%A8%A1%E5%9E%8B-heima/" style="font-size: 10px;">IO模型-heima</a> <a href="/tags/JVM-heima/" style="font-size: 10px;">JVM-heima</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80-heima/" style="font-size: 20px;">Java基础-heima</a> <a href="/tags/Java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95-atguigu/" style="font-size: 10px;">Java数据结构与算法-atguigu</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Mybatis-DongLi/" style="font-size: 10px;">Mybatis-DongLi</a> <a href="/tags/NIO/" style="font-size: 10px;">NIO</a> <a href="/tags/Spring-DongLi/" style="font-size: 10px;">Spring-DongLi</a> <a href="/tags/SpringBoot-DongLi/" style="font-size: 10px;">SpringBoot-DongLi</a> <a href="/tags/SpringMVC-DongLi/" style="font-size: 10px;">SpringMVC-DongLi</a> <a href="/tags/SpringSecurity-sg/" style="font-size: 10px;">SpringSecurity-sg</a> <a href="/tags/Vue-atguigu/" style="font-size: 10px;">Vue-atguigu</a> <a href="/tags/dubbo-heima/" style="font-size: 10px;">dubbo-heima</a> <a href="/tags/git-atguigu/" style="font-size: 10px;">git-atguigu</a> <a href="/tags/java%E5%9F%BA%E7%A1%80-itcast/" style="font-size: 10px;">java基础-itcast</a> <a href="/tags/java%E5%B9%B6%E5%8F%91-itcast/" style="font-size: 10px;">java并发-itcast</a> <a href="/tags/java%E6%A1%86%E6%9E%B6-itcast/" style="font-size: 10px;">java框架-itcast</a> <a href="/tags/java%E8%99%9A%E6%8B%9F%E6%9C%BA-itcast/" style="font-size: 10px;">java虚拟机-itcast</a> <a href="/tags/servlet/" style="font-size: 10px;">servlet</a> <a href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 10px;">事务</a> <a href="/tags/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86-DongLi/" style="font-size: 10px;">动态代理-DongLi</a> <a href="/tags/%E5%B0%9A%E7%A1%85%E8%B0%B7/" style="font-size: 10px;">尚硅谷</a> <a href="/tags/%E5%B0%9A%E7%A1%85%E8%B0%B7-%E5%AE%8B%E7%BA%A2%E5%BA%B7-MySQL-%E5%88%9D%E7%BA%A7/" style="font-size: 13.33px;">尚硅谷-宋红康-MySQL(初级)</a> <a href="/tags/%E5%B0%9A%E7%A1%85%E8%B0%B7-%E5%AE%8B%E7%BA%A2%E5%BA%B7-MySQL-%E9%AB%98%E7%BA%A7/" style="font-size: 16.67px;">尚硅谷-宋红康-MySQL(高级)</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80-msb/" style="font-size: 10px;">操作系统基础-msb</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">网络基础</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">设计模式</a> <a href="/tags/%E9%A9%AC%E5%A3%AB%E5%85%B5/" style="font-size: 10px;">马士兵</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/03/30/%E7%AC%AC03%E7%AB%A0-%E5%9F%BA%E6%9C%AC%E7%9A%84SELECT%E8%AF%AD%E5%8F%A5-atguigu-shk/">第03章-基本的SELECT语句-atguigu-shk</a>
          </li>
        
          <li>
            <a href="/2023/03/30/char%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-heima-xl/">char数据类型-heima-xl</a>
          </li>
        
          <li>
            <a href="/2023/03/30/Collection%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8EList%E4%B8%8E%E6%B3%9B%E5%9E%8B%E6%B7%B1%E5%85%A5-heima-xl/">Collection与数据结构与List与泛型深入-heima-xl</a>
          </li>
        
          <li>
            <a href="/2023/03/30/JAVA-IO-%E4%B8%8B-heima-xl/">JAVA-IO-下-heima-xl</a>
          </li>
        
          <li>
            <a href="/2023/03/30/Set%E4%B8%8ECollections%E4%B8%8EMap%E4%B8%8E%E9%9B%86%E5%90%88%E5%B5%8C%E5%A5%97-heima-xl/">Set与Collections与Map与集合嵌套-heima-xl</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>