

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="不可变集合 概念  不可变集合，就是不可被修改的集合。集合的数据项在创建的时候提供，并且在整个生命周期中都不可改变。否则报错。  作用  如果某个数据不能被修改，把它防御性地拷贝到不可变集合中是个很好的实践。或者当集合对象被不可信的库调用时，不可变形式是安全的  如何创建不可变集合？ 在List、Set、Map接口中，都存在of方法，可以创建一个不可变的集合  【since 1.9】这个集合不能添">
<meta property="og:type" content="article">
<meta property="og:title" content="不可变集合与Stream流与异常-heima-xl">
<meta property="og:url" content="http://example.com/2023/03/30/Java%E5%9F%BA%E7%A1%80-%E5%BE%90%E7%A3%8A-%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E4%B8%8EStream%E6%B5%81%E4%B8%8E%E5%BC%82%E5%B8%B8/index.html">
<meta property="og:site_name" content="FGCY-BLOG">
<meta property="og:description" content="不可变集合 概念  不可变集合，就是不可被修改的集合。集合的数据项在创建的时候提供，并且在整个生命周期中都不可改变。否则报错。  作用  如果某个数据不能被修改，把它防御性地拷贝到不可变集合中是个很好的实践。或者当集合对象被不可信的库调用时，不可变形式是安全的  如何创建不可变集合？ 在List、Set、Map接口中，都存在of方法，可以创建一个不可变的集合  【since 1.9】这个集合不能添">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/images/java.png">
<meta property="article:published_time" content="2023-03-30T12:17:58.000Z">
<meta property="article:modified_time" content="2023-03-30T12:38:45.470Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Java基础-heima">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/images/java.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>不可变集合与Stream流与异常-heima-xl - FGCY-BLOG</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":333,"cursorChar":"%","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>FGCY-BLOG</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>主页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签列表</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于我</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/playlist/">
                <i class="iconfont icon-music"></i>
                <span>音乐</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="不可变集合与Stream流与异常-heima-xl"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-03-30 20:17" pubdate>
          March 30, 2023 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    

    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">不可变集合与Stream流与异常-heima-xl</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="不可变集合"><a href="#不可变集合" class="headerlink" title="不可变集合"></a>不可变集合</h2><ul>
<li>概念</li>
</ul>
<p>不可变集合，就是不可被修改的集合。<br>集合的数据项在创建的时候提供，并且在整个生命周期中都不可改变。否则报错。</p>
<ul>
<li>作用</li>
</ul>
<p>如果某个数据不能被修改，把它防御性地拷贝到不可变集合中是个很好的实践。<br>或者当集合对象被不可信的库调用时，不可变形式是安全的</p>
<ul>
<li><p><strong>如何创建不可变集合？</strong></p>
<p>在List、Set、Map接口中，都存在of方法，可以创建一个不可变的集合  【since 1.9】<br>这个集合不能添加，不能删除，不能修改。</p>
</li>
</ul>
<span id="more"></span>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">List.of();<br>Set.of()<br>Map.of()<br></code></pre></td></tr></table></figure>

<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844609.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//不可变集合，从jdk1.9开始,只可以访问不可以操作</span><br>        <span class="hljs-keyword">final</span> List&lt;Double&gt; list = List.of(<span class="hljs-number">120.1</span>, <span class="hljs-number">22.4</span>, <span class="hljs-number">120.4</span>, <span class="hljs-number">111.2</span>);<br><span class="hljs-comment">//        list.add(111.2);//java.lang.UnsupportedOperationException</span><br><span class="hljs-comment">//        list.set(1, 100.1);//java.lang.UnsupportedOperationException</span><br>        list.forEach(System.out::println);<br>    &#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">120</span>.<span class="hljs-number">1</span><br><span class="hljs-attribute">22</span>.<span class="hljs-number">4</span><br><span class="hljs-attribute">120</span>.<span class="hljs-number">4</span><br><span class="hljs-attribute">111</span>.<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">//不可变集合，不可以增删改，只可以查</span><br>        <span class="hljs-keyword">final</span> Set&lt;Double&gt; set = Set.of(<span class="hljs-number">120.1</span>, <span class="hljs-number">22.4</span>, <span class="hljs-number">120.4</span>, <span class="hljs-number">111.2</span>);<br><span class="hljs-comment">//        final Set&lt;Double&gt; set = Set.of(120.1, 22.4, 120.4, 111.2, 111.2);//当有重复值是也报错   java.lang.IllegalArgumentException: duplicate element: 111.2</span><br><span class="hljs-comment">//        set.clear();//java.lang.UnsupportedOperationException</span><br>        System.out.println(set);<br>        set.forEach(System.out::println);<br>    &#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-string">[120.1, 22.4, 111.2, 120.4]</span><br><span class="hljs-number">120</span>.<span class="hljs-number">1</span><br><span class="hljs-number">22</span>.<span class="hljs-number">4</span><br><span class="hljs-number">111</span>.<span class="hljs-number">2</span><br><span class="hljs-number">120</span>.<span class="hljs-number">4</span><br></code></pre></td></tr></table></figure>



<h2 id="Stream流"><a href="#Stream流" class="headerlink" title="Stream流"></a>Stream流</h2><ul>
<li>概念</li>
</ul>
<p>在Java 8中，得益于Lambda所带来的函数式编程， 引入了一个全新的Stream流概念。</p>
<p>目的：用于简化集合和数组操作的API。</p>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844508.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<ul>
<li>原生与Stream对比</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">final</span> List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    Collections.addAll(list, <span class="hljs-string">&quot;张三丰&quot;</span>, <span class="hljs-string">&quot;张无忌&quot;</span>, <span class="hljs-string">&quot;赵敏&quot;</span>, <span class="hljs-string">&quot;任盈盈&quot;</span>, <span class="hljs-string">&quot;小龙女&quot;</span>, <span class="hljs-string">&quot;张强&quot;</span>);<br>    <span class="hljs-keyword">final</span> ArrayList&lt;String&gt; zhangThree = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">final</span> ArrayList&lt;String&gt; zhangThree2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    System.out.println(list);<br>    <span class="hljs-keyword">for</span> (String s : list) &#123;<br>        <span class="hljs-keyword">if</span> (s.startsWith(<span class="hljs-string">&quot;张&quot;</span>) &amp;&amp; s.length() == <span class="hljs-number">3</span>) zhangThree.add(s);<br>    &#125;<br>    System.out.println(zhangThree);<br>    <br>    System.out.println(<span class="hljs-string">&quot;----------------------------------------------&quot;</span>);<br>    <br>    list.stream().filter(s -&gt; s.startsWith(<span class="hljs-string">&quot;张&quot;</span>)).filter(s -&gt; s.length() == <span class="hljs-number">3</span>).forEach(s -&gt; zhangThree2.add(s));<br>    System.out.println(zhangThree2);<br>&#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[张三丰, 张无忌, 赵敏, 任盈盈, 小龙女, 张强]</span><br><span class="hljs-string">[张三丰, 张无忌]</span><br>----------------------------------------------<br><span class="hljs-string">[张三丰, 张无忌]</span><br></code></pre></td></tr></table></figure>



<ul>
<li><strong>Stream流式思想的核心：</strong></li>
</ul>
<p>通过数组&#x2F;集合.stream(),得到集合或者数组的Stream流（就是一根传送带）</p>
<p>然后就用这个Stream流简化的API来方便的操作元素</p>
<ul>
<li><strong>Stream</strong>流的三类方法</li>
</ul>
<p>获取Stream流<br>    创建一条流水线，并把数据放到流水线上准备进行操作</p>
<p>中间方法<br>    流水线上的操作。一次操作完毕之后，还可以继续进行其他操作</p>
<p>终结方法<br>    一个Stream流只能有一个终结方法，是流水线上的最后一个操作foreach、count</p>
<ul>
<li>小结</li>
</ul>
<p>Stream流的作用是什么，结合了什么技术？<br>    简化集合、数组操作的API。结合了Lambda表达式。</p>
<h3 id="Stream流的获取"><a href="#Stream流的获取" class="headerlink" title="Stream流的获取"></a>Stream流的获取</h3><ul>
<li>集合获取Stream流</li>
</ul>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844375.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<ul>
<li>数组获取Stream流方法</li>
</ul>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844124.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<ul>
<li>获取Stream流</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">//Collection集合</span><br>    <span class="hljs-keyword">final</span> List&lt;Object&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">final</span> Stream&lt;Object&gt; stream1 = list.stream();<br><br>    <span class="hljs-keyword">final</span> Set&lt;String&gt; set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();<br>    <span class="hljs-keyword">final</span> Stream&lt;String&gt; stream2 = set.stream();<br><br>    <span class="hljs-comment">//Map集合</span><br>    <span class="hljs-keyword">final</span> HashMap&lt;String, Integer&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    <span class="hljs-keyword">final</span> Set&lt;String&gt; keySet = map.keySet();<br>    <span class="hljs-keyword">final</span> Collection&lt;Integer&gt; values = map.values();<br>    <span class="hljs-keyword">final</span> Set&lt;Map.Entry&lt;String, Integer&gt;&gt; entrySet = map.entrySet();<br>    <span class="hljs-keyword">final</span> Stream&lt;String&gt; stream3 = keySet.stream();<br>    <span class="hljs-keyword">final</span> Stream&lt;Integer&gt; stream4 = values.stream();<br>    <span class="hljs-keyword">final</span> Stream&lt;Map.Entry&lt;String, Integer&gt;&gt; stream5 = entrySet.stream();<br><br>    <span class="hljs-comment">//数组</span><br>    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span>[] ints = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">4</span>];<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">IntStream</span> <span class="hljs-variable">stream7</span> <span class="hljs-operator">=</span> Arrays.stream(ints);<br>    <span class="hljs-keyword">final</span> Stream&lt;<span class="hljs-type">int</span>[]&gt; stream6 = Stream.of(ints);<br>    stream6.forEach(System.out::println);<br>    stream7.forEach(System.out::println);<br>&#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[I<span class="hljs-symbol">@9e89d68</span><br><span class="hljs-number">0</span><br><span class="hljs-number">0</span><br><span class="hljs-number">0</span><br><span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>





<h3 id="Stream流的常用API"><a href="#Stream流的常用API" class="headerlink" title="Stream流的常用API"></a>Stream流的常用API</h3><ul>
<li>中间方法</li>
</ul>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844643.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<ul>
<li>终结方法</li>
</ul>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844767.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">final</span> List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    Collections.addAll(list, <span class="hljs-string">&quot;张三丰&quot;</span>, <span class="hljs-string">&quot;张无忌&quot;</span>, <span class="hljs-string">&quot;赵敏&quot;</span>, <span class="hljs-string">&quot;任盈盈&quot;</span>, <span class="hljs-string">&quot;小龙女&quot;</span>, <span class="hljs-string">&quot;张强&quot;</span>);<br>    <span class="hljs-keyword">final</span> Stream&lt;String&gt; stream = list.stream();<span class="hljs-comment">//得到stream流</span><br><br>    <span class="hljs-comment">// Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate);函数式接口</span><br>    <span class="hljs-comment">//filter()内部是一个函数式接口，该接口中有一个叫test()的方法</span><br>    <span class="hljs-comment">//filter()会遍历集合中的每一个元素，然后调用Predicate接口中的test方法，看是否满足条件，将不满足条件的干掉</span><br>    <span class="hljs-comment">//filter()是一个中间方法</span><br>    stream.filter(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Predicate</span>&lt;String&gt;() &#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">test</span><span class="hljs-params">(String s)</span> &#123;<br>            <span class="hljs-keyword">return</span> s.startsWith(<span class="hljs-string">&quot;张&quot;</span>);<br>        &#125;<br>    &#125;).forEach(System.out::println);<span class="hljs-comment">//方法引用</span><br>&#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">张三丰<br>张无忌<br>张强<br></code></pre></td></tr></table></figure>





<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test4</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">final</span> List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        Collections.addAll(list, <span class="hljs-string">&quot;张三丰&quot;</span>, <span class="hljs-string">&quot;张无忌&quot;</span>, <span class="hljs-string">&quot;赵敏&quot;</span>, <span class="hljs-string">&quot;任盈盈&quot;</span>, <span class="hljs-string">&quot;小龙女&quot;</span>, <span class="hljs-string">&quot;张强&quot;</span>, <span class="hljs-string">&quot;张作霖&quot;</span>, <span class="hljs-string">&quot;张自忠&quot;</span>, <span class="hljs-string">&quot;张三丰&quot;</span>);<br>        <span class="hljs-comment">//limit(n)取前几个</span><br><span class="hljs-comment">//        list.stream().filter(s-&gt;s.startsWith(&quot;张&quot;)).limit(3).forEach(System.out::println);//取前三个以张开头的</span><br><br>        <span class="hljs-comment">//skip(n)跳过前几个</span><br><span class="hljs-comment">//        list.stream().filter(s -&gt; s.startsWith(&quot;张&quot;)).skip(3).forEach(System.out::println);//跳过三个以张开头的</span><br><br>        <span class="hljs-comment">//distinct()去重</span><br>        <span class="hljs-comment">//去重，如果是自定义类型，则根据hashcode和equals</span><br><span class="hljs-comment">//        list.stream().filter(s -&gt; s.startsWith(&quot;张&quot;)).distinct().forEach(System.out::println);</span><br><br>        <span class="hljs-comment">//count()容器元素个数</span><br><span class="hljs-comment">//        System.out.println(list.stream().filter(s -&gt; s.startsWith(&quot;张&quot;)).distinct().count());//获取过滤后元素个数</span><br><br>        <span class="hljs-comment">//map()加工方法，第一个参数:原材料，第二个参数:返回值 第一种</span><br>        <span class="hljs-keyword">final</span> ArrayList&lt;Object&gt; arrayList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><span class="hljs-comment">/*        list.stream().map(new Function&lt;String, Student&gt;() &#123;</span><br><span class="hljs-comment">            @Override</span><br><span class="hljs-comment">            public Student apply(String s) &#123;</span><br><span class="hljs-comment">                return new Student(s);</span><br><span class="hljs-comment">            &#125;</span><br><span class="hljs-comment">        &#125;).forEach(student -&gt; arrayList.add(student));</span><br><span class="hljs-comment">*/</span><br><br><br>        <span class="hljs-comment">//map()加工方法，第一个参数:原材料，第二个参数:返回值 第二种</span><br>        <span class="hljs-comment">//首先把姓张的过滤下来，然后去重，接着拿到前两个，下一步将原来字符串的元素加工成学生类型，通过遍历，将流上的学生对象添加到List集合中</span><br><span class="hljs-comment">//        list.stream().filter(s -&gt; s.startsWith(&quot;张&quot;)).distinct().limit(2).map(s -&gt; new Student(s)).</span><br>        <span class="hljs-comment">//forEach(student -&gt; arrayList.add(student));</span><br><br>        <span class="hljs-comment">//map()加工方法，第一个参数:原材料，第二个参数:返回值 第二种</span><br>        <span class="hljs-comment">//首先把姓张的过滤下来，然后去重，接着拿到前两个，下一步将原来字符串的元素加工成学生类型，通过遍历，将流上的学生对象添加到List集合中</span><br>        <span class="hljs-comment">//使用构造器引用（前提：将接到的参数直接用于构造器的入参，初始化对象）</span><br><span class="hljs-comment">//        list.stream().filter(s -&gt; s.startsWith(&quot;张&quot;)).distinct().limit(2).map(Student::new).forEach(student -&gt; arrayList.add(student));</span><br><span class="hljs-comment">//        System.out.println(arrayList);</span><br><br><br>        <span class="hljs-comment">//concat()合并流</span><br>        <span class="hljs-keyword">final</span> Stream&lt;String&gt; stream1 = list.stream().filter(s -&gt; !s.startsWith(<span class="hljs-string">&quot;张&quot;</span>));<br>        <span class="hljs-keyword">final</span> Stream&lt;String&gt; stream2 = list.stream().skip(<span class="hljs-number">1</span>).limit(<span class="hljs-number">4</span>);<br><br>        <span class="hljs-comment">//    public static &lt;T&gt; Stream&lt;T&gt; concat(Stream&lt;? extends T&gt; a, Stream&lt;? extends T&gt; b)</span><br><span class="hljs-comment">//&lt;T&gt;表示这是一个泛型方法，Stream&lt;T&gt;表示的是返回值，入参的泛型表示，两个入参的泛型类型都要是返回值，或是返回值的子类；当两个入参的泛型类型不同时，可能要用Object</span><br>        <span class="hljs-keyword">final</span> Stream&lt;String&gt; concat = Stream.concat(stream1, stream2);<br>        concat.forEach(s -&gt; arrayList.add(s));<br>        System.out.println(arrayList);<br>    &#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-string">[赵敏, 任盈盈, 小龙女, 张无忌, 赵敏, 任盈盈, 小龙女]</span><br></code></pre></td></tr></table></figure>





<ul>
<li>注意</li>
<li></li>
</ul>
<p>中间方法也称为非终结方法，调用完成后返回新的Stream流可以继续使用，支持链式编程。</p>
<p>在Stream流中无法直接修改集合、数组中的数据。想要访问集合中的元素，还是要用集合中的方法；流只是用来过滤加工数据</p>
<p>终结操作方法，调用完成后流就无法继续使用了，原因是不会返回Stream了</p>
<h3 id="Stream流综合案例"><a href="#Stream流综合案例" class="headerlink" title="Stream流综合案例"></a>Stream流综合案例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StreamDemo2</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> allMoney;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> allMoney2;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        List&lt;Employee&gt; one = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        one.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;猪八戒&quot;</span>, <span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">30000</span>, <span class="hljs-number">25000</span>, <span class="hljs-literal">null</span>));<br>        one.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;孙悟空&quot;</span>, <span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">25000</span>, <span class="hljs-number">1000</span>, <span class="hljs-string">&quot;顶撞上司&quot;</span>));<br>        one.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;沙僧&quot;</span>, <span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">20000</span>, <span class="hljs-number">20000</span>, <span class="hljs-literal">null</span>));<br>        one.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;小白龙&quot;</span>, <span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">20000</span>, <span class="hljs-number">25000</span>, <span class="hljs-literal">null</span>));<br><br>        List&lt;Employee&gt; two = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        two.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;武松&quot;</span>, <span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">15000</span>, <span class="hljs-number">9000</span>, <span class="hljs-literal">null</span>));<br>        two.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;李逵&quot;</span>, <span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">20000</span>, <span class="hljs-number">10000</span>, <span class="hljs-literal">null</span>));<br>        two.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;西门庆&quot;</span>, <span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-number">50000</span>, <span class="hljs-number">100000</span>, <span class="hljs-string">&quot;被打&quot;</span>));<br>        two.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;潘金莲&quot;</span>, <span class="hljs-string">&#x27;女&#x27;</span>, <span class="hljs-number">3500</span>, <span class="hljs-number">1000</span>, <span class="hljs-string">&quot;被打&quot;</span>));<br>        two.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;武大郎&quot;</span>, <span class="hljs-string">&#x27;女&#x27;</span>, <span class="hljs-number">20000</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;下毒&quot;</span>));<br><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * 把拿到最高工资的封装成优秀员工对象</span><br><span class="hljs-comment">         * */</span><br>        <span class="hljs-keyword">final</span> Optional&lt;Topperformer&gt; optional = one.stream().max((e1, e2) -&gt; Double.compare(e1.getSalary() + e1.getBonus(), 		                                            e2.getBonus() + e2.getSalary()))<br>                .map(employee -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Topperformer</span>(employee.getName(), employee.getBonus() + employee.getSalary()));<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">Topperformer</span> <span class="hljs-variable">topperformer</span> <span class="hljs-operator">=</span> optional.get();<br>        System.out.println(topperformer);<br><br><br><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * 开发一部，去掉一高一低两个工资，求平均工资</span><br><span class="hljs-comment">         * */</span><br>        one.stream().sorted((e1, e2) -&gt; Double.compare(e1.getSalary() + e1.getBonus(), e2.getSalary() + e2.getBonus()))<br>                .skip(<span class="hljs-number">1</span>).limit(one.size() - <span class="hljs-number">2</span>).forEach(employee -&gt; &#123;<br>            allMoney += employee.getBonus() + employee.getSalary();<br>        &#125;);<br>        System.out.println(<span class="hljs-string">&quot;开发一部平均工资为:&quot;</span> + allMoney / (one.size() - <span class="hljs-number">2</span>));<br><br><br>        <br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * 开发一和二部，去掉一高一低两个工资，求平均工资</span><br><span class="hljs-comment">         * */</span><br>        <span class="hljs-keyword">final</span> Stream&lt;Employee&gt; oneStream = one.stream();<br>        <span class="hljs-keyword">final</span> Stream&lt;Employee&gt; towStream = two.stream();<br>        <span class="hljs-keyword">final</span> Stream&lt;Employee&gt; concat = Stream.concat(oneStream, towStream);<br>        concat.sorted((e1, e2) -&gt; Double.compare(e1.getSalary() + e1.getBonus(), e2.getSalary() + e2.getBonus()))<br>                .skip(<span class="hljs-number">1</span>).limit(one.size() + two.size() - <span class="hljs-number">2</span>).forEach(employee -&gt; &#123;<br>            allMoney2 += employee.getBonus() + employee.getSalary();<br>        &#125;);<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">money</span> <span class="hljs-operator">=</span> BigDecimal.valueOf(allMoney2);<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">of</span> <span class="hljs-operator">=</span> BigDecimal.valueOf(one.size() + two.size() - <span class="hljs-number">2</span>);<br>        System.out.println(<span class="hljs-string">&quot;开发部平均工资为:&quot;</span> + money.divide(of, <span class="hljs-number">2</span>, RoundingMode.HALF_UP));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">Topperformer&#123;<span class="hljs-attribute">name</span>=<span class="hljs-string">&#x27;猪八戒&#x27;</span>, <span class="hljs-attribute">money</span>=55000.0&#125;<br>开发一部平均工资为:42500.0<br>开发部平均工资为:34285.71<br></code></pre></td></tr></table></figure>





<h3 id="收集Stream流"><a href="#收集Stream流" class="headerlink" title="收集Stream流"></a>收集Stream流</h3><ul>
<li>概念</li>
</ul>
<p>收集Stream流的含义：就是把Stream流操作后的结果数据转回到集合或者数组中去</p>
<p>Stream流：方便操作集合&#x2F;数组的手段</p>
<p>集合&#x2F;数组：才是开发中的目的</p>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844641.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">final</span> ArrayList&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        Collections.addAll(list, <span class="hljs-string">&quot;房山&quot;</span>, <span class="hljs-string">&quot;张丹&quot;</span>, <span class="hljs-string">&quot;张三&quot;</span>, <span class="hljs-string">&quot;健康卡&quot;</span>, <span class="hljs-string">&quot;健康卡&quot;</span>);<br>        <span class="hljs-keyword">final</span> List&lt;String&gt; list1 = list.stream().skip(<span class="hljs-number">2</span>).collect(Collectors.toList());<br>        System.out.println(list1);<br><br>        <span class="hljs-comment">//注意注意注意：流只能使用一次，用过了foreach count collect toArray等方法后，流就没了</span><br>        <span class="hljs-comment">//重新获取流</span><br>        <span class="hljs-keyword">final</span> Set&lt;String&gt; set = list.stream().collect(Collectors.toSet());<br>        System.out.println(<span class="hljs-string">&quot;set集合：&quot;</span> + set);<span class="hljs-comment">//去重</span><br><br><br><span class="hljs-comment">//        final Object[] objects = list.stream().toArray();//这里的类型时Object,如果确定一定都是某个子类类型可以使用下面的方法</span><br><span class="hljs-comment">/*        final String[] toArray = list.stream().toArray(new IntFunction&lt;String[]&gt;() &#123;</span><br><span class="hljs-comment">            @Override</span><br><span class="hljs-comment">            public String[] apply(int value) &#123;</span><br><span class="hljs-comment">                return new String[value];</span><br><span class="hljs-comment">            &#125;</span><br><span class="hljs-comment">        &#125;);*/</span><br>        <br>        <br>        <br><br><span class="hljs-comment">//        final String[] toArray = list.stream().toArray(v -&gt; new String[v]);Lambda表达式简化</span><br>        <span class="hljs-keyword">final</span> String[] toArray = list.stream().toArray(String[]::<span class="hljs-keyword">new</span>);<span class="hljs-comment">//构造器引用</span><br>        System.out.println(<span class="hljs-string">&quot;数组：&quot;</span> + Arrays.toString(toArray));<br>    &#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[张三, 健康卡, 健康卡]</span><br>set集合：<span class="hljs-selector-attr">[张丹, 张三, 健康卡, 房山]</span><br>数组：<span class="hljs-selector-attr">[房山, 张丹, 张三, 健康卡, 健康卡]</span><br></code></pre></td></tr></table></figure>



<h2 id="认识异常体系"><a href="#认识异常体系" class="headerlink" title="认识异常体系"></a>认识异常体系</h2><h3 id="异常概述、体系"><a href="#异常概述、体系" class="headerlink" title="异常概述、体系"></a>异常概述、体系</h3><ul>
<li><strong>什么是异常？</strong></li>
</ul>
<p>异常是程序在“编译”或者“执行”的过程中可能出现的问题</p>
<p>​    注意：语法错误不算在异常体系中。 </p>
<p>比如:数组索引越界、空指针异常、 日期格式化异常，等…</p>
<ul>
<li><strong>为什么要学习异常</strong>?</li>
</ul>
<p>异常一旦出现了，如果没有提前处理，程序就会退出JVM虚拟机而终止.</p>
<p>研究异常并且避免异常，然后提前处理异常，体现的是程序的安全, 健壮性。</p>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844959.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<p>Error：<br>    系统级别问题(操作系统出现问题)、JVM退出等，无法通过代码控制。</p>
<p>Exception：<br>    java.lang包下，称为异常类，它表示程序本身可以处理的问题<br>    运行时异常：RuntimeException及其子类，编译阶段不会报错。 (空指针异常，数组索引越界异常)<br>    编译时异常：除RuntimeException之外所有的异常，编译期必须处理的，否则程序不能通过编译。 (日期格式化异常)</p>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844481.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<p>简单来说：<br>    编译时异常 就是在编译的时候出现的异常 Idea会帮我们同步编译;如果用记事本，则会在执行javac.exe的时候报错<br>    运行时异常 就是在运行时出现的异常。 就是当jvm加载字节码文件时发现的异常</p>
<ul>
<li>小结</li>
</ul>
<p>异常是什么？<br>    异常（Exception）是代码在编译或者执行的过程中可能出现的错误；</p>
<p>异常分为几类？<br>    编译时异常：没有继承RuntimeExcpetion的异常，编译阶段就会出错。<br>    运行时异常：继承自RuntimeException的异常或其子类，编译阶段不报错，运行可能报错</p>
<p>学习异常的目的？<br>    避免异常的出现，同时处理可能出现的异常，让代码更稳健</p>
<h3 id="常见运行时异常"><a href="#常见运行时异常" class="headerlink" title="常见运行时异常"></a>常见运行时异常</h3><p>直接继承自RuntimeException或者其子类，编译阶段不会报错，运行时可能出现的错误。</p>
<ul>
<li><strong>运行时异常示例</strong></li>
</ul>
<p>数组索引越界异常: ArrayIndexOutOfBoundsException </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] ints=<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">2</span>];<br>System.out.println(ints[<span class="hljs-number">2</span>]);<br></code></pre></td></tr></table></figure>





<p>空指针异常 : NullPointerException，直接输出没有问题，但是调用空指针的变量的功能就会报错。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">String a=<span class="hljs-literal">null</span>;<br>System.out.println(a);<br></code></pre></td></tr></table></figure>



<p>数学操作异常：ArithmeticException</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> a=<span class="hljs-number">11</span>/<span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure>



<p>类型转换异常：ClassCastException</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;<br>String s= (String) o;<br></code></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">String a=<span class="hljs-string">&quot;123mm&quot;</span>;<br>Integer.valueOf(a);<br></code></pre></td></tr></table></figure>



<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261844717.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<p>最下面的方法最先调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RuntimeExceptionDemo1</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;程序开始-----------------&quot;</span>);<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span>[] ints = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">3</span>];<br>        System.out.println(ints[<span class="hljs-number">2</span>]);<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * java.lang.ArrayIndexOutOfBoundsException: 3 【数组下标越界异常】运行时异常，都是RuntimeException的子类或孙子类</span><br><span class="hljs-comment">         *</span><br><span class="hljs-comment">         * class ArrayIndexOutOfBoundsException extends IndexOutOfBoundsException</span><br><span class="hljs-comment">         *</span><br><span class="hljs-comment">         * class IndexOutOfBoundsException extends RuntimeException</span><br><span class="hljs-comment">         * */</span><br><br>        <span class="hljs-comment">//System.out.println(ints[3]);//运行时异常，如果出现并且没有try catch/throws jvm停止运行</span><br><br><br>        <br>        <br>        <br>        <span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;<br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">integer</span> <span class="hljs-operator">=</span> (Integer) o;<span class="hljs-comment">//只要有继承关系，就可以强转</span><br>        <span class="hljs-comment">//String与基本数据类型及其包装类都不可以互相强转</span><br><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String</span><br><span class="hljs-comment">         *</span><br><span class="hljs-comment">         *class ClassCastException extends RuntimeException</span><br><span class="hljs-comment">         * */</span><br><br>        <span class="hljs-comment">//String string = (String) o;//任何类都是Object的子类 【类型转换异常】 程序终止 运行时异常，是RuntimeException的子类</span><br><br><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * java.lang.ArithmeticException: / by zero</span><br><span class="hljs-comment">         * public class ArithmeticException extends RuntimeException</span><br><span class="hljs-comment">         * */</span><br><br><span class="hljs-comment">//        int a = 12 / 0;//【数学操作异常】 程序终止 运行时异常，是RuntimeException的直接子类</span><br><br>      <br>        <br>        <br>            <br>            <br>    <br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;123&quot;</span>;<br>        System.out.println(Integer.valueOf(s1));<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;12aaa&quot;</span>;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * java.lang.NumberFormatException: For input string: &quot;12aaa&quot;</span><br><span class="hljs-comment">         * class NumberFormatException extends IllegalArgumentException</span><br><span class="hljs-comment">         * class IllegalArgumentException extends RuntimeException</span><br><span class="hljs-comment">         * */</span><br><span class="hljs-comment">//        Integer.valueOf(s2);//【数字转换异常】程序终止 运行时异常，是RuntimeException的间接子类</span><br><br>        <br>        <br>        <br>        <br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">a1</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        System.out.println(a1);<span class="hljs-comment">//直接输出没有问题，但调用功能时会出错</span><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * java.lang.NullPointerException</span><br><span class="hljs-comment">         * class NullPointerException extends RuntimeException</span><br><span class="hljs-comment">         *</span><br><span class="hljs-comment">         * */</span><br>        System.out.println(a1.length());<span class="hljs-comment">//【空指针异常】 运行时异常 程序终止 是RuntimeException的直接子类</span><br><br>        System.out.println(<span class="hljs-string">&quot;程序结束-----------------&quot;</span>);<br><br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>



<p>运行时异常：一般是程序员业务没有考虑好或者是编程逻辑不严谨引起的程序错误，<br>自己的水平有问题</p>
<h3 id="常见编译时异常"><a href="#常见编译时异常" class="headerlink" title="常见编译时异常"></a>常见编译时异常</h3><ul>
<li><strong>编译时异常</strong></li>
<li></li>
</ul>
<p>没有直接或间接继承RuntimeException，编译阶就报错，必须处理，否则代码不通过</p>
<ul>
<li><strong>编译时异常的作用是什么</strong></li>
<li></li>
</ul>
<p>是担心程序员的技术不行，在编译阶段就爆出一个错误, 目的在于提醒不要出错!（提醒程序员此处容易写错）</p>
<p>即时出错了也会打出异常栈信息</p>
<p>编译时异常是可遇不可求</p>
<ul>
<li>编译时异常示例</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-comment">//使用大的Exception 可以外抛全部的异常</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;2015-01-12 10:23:21&quot;</span>;<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">sdf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">Date</span> <span class="hljs-variable">parse</span> <span class="hljs-operator">=</span> sdf.parse(date);<span class="hljs-comment">//此处提示有未处理的异常，此时我们自信往外抛</span><br>    System.out.println(parse);<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Mon</span> Jan <span class="hljs-number">12</span> <span class="hljs-number">10</span>:<span class="hljs-number">23</span>:<span class="hljs-number">21</span> CST <span class="hljs-number">2015</span><br></code></pre></td></tr></table></figure>



<h3 id="异常的默认处理流程"><a href="#异常的默认处理流程" class="headerlink" title="异常的默认处理流程"></a>异常的默认处理流程</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<span class="hljs-comment">//3 抛给main方法，main抛给jvm，然后从异常点干掉程序</span><br>    System.out.println(<span class="hljs-string">&quot;程序开始.....&quot;</span>);<br>    divides(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<span class="hljs-comment">//2异常会从方法中出现的点这里抛出给调用者</span><br>    System.out.println(<span class="hljs-string">&quot;程序结束.....&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">divides</span><span class="hljs-params">(<span class="hljs-type">int</span> i, <span class="hljs-type">int</span> j)</span> &#123;<br>    System.out.println(i);<br>    System.out.println(j);<br>    <span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> i / j;<span class="hljs-comment">//1 默认会在出现异常的代码那里自动的创建一个异常对象：ArithmeticException。</span><br>    System.out.println(c);<br>&#125;<br><br><br></code></pre></td></tr></table></figure>

<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">程序开始.....<br><span class="hljs-number">1</span><br><span class="hljs-number">0</span><br>Exception <span class="hljs-keyword">in</span> thread <span class="hljs-string">&quot;main&quot;</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.ArithmeticException</span>: / by zero<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.divides</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">22</span>)<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.main</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">15</span>)<br></code></pre></td></tr></table></figure>



<p>1.默认会在出现异常的代码那里自动的创建一个异常对象：ArithmeticException</p>
<p>2.异常会从方法中出现的点这里抛出给调用者，调用者最终抛出给JVM虚拟机</p>
<p>3.虚拟机接收到异常对象后，先在控制台直接输出异常栈信息数据</p>
<p>4.直接从当前执行的异常点干掉当前程序。</p>
<p>5.后续代码没有机会执行了，因为程序已经死亡</p>
<ul>
<li>小结</li>
</ul>
<p>默认的异常处理机制并不好，一旦真的出现异常，程序立即死亡！</p>
<h3 id="编译时异常的处理机制"><a href="#编译时异常的处理机制" class="headerlink" title="编译时异常的处理机制"></a>编译时异常的处理机制</h3><p>编译时异常是编译阶段就出错的，所以必须处理，否则代码根本无法通过</p>
<ul>
<li><strong>编译时异常的处理形式有三种：</strong></li>
</ul>
<p>1.出现异常直接抛出去给调用者，调用者也继续抛出去</p>
<p>2.出现异常自己捕获处理，不麻烦别人</p>
<p>3.前两者结合，出现异常直接抛出去给调用者，调用者捕获处理</p>
<ul>
<li><strong>抛出异常格式：</strong></li>
</ul>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs aspectj">格式一：<br>    方法 <span class="hljs-keyword">throws</span> 异常<span class="hljs-number">1</span> ，异常<span class="hljs-number">2</span> ，异常<span class="hljs-number">3</span> ..&#123;<br>    &#125;<br><br><br>规范做法： <br>    方法 <span class="hljs-keyword">throws</span> Exception&#123;<br><br>    &#125;<br>    <span class="hljs-comment">//代表可以抛出一切异常</span><br><br></code></pre></td></tr></table></figure>



<ul>
<li>方式一：外抛throws</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> FileNotFoundException, ParseException &#123;<br>    System.out.println(<span class="hljs-string">&quot;程序开始.....&quot;</span>);<br>    format(<span class="hljs-string">&quot;1231321313&quot;</span>);<span class="hljs-comment">//main方法也不处理，把异常抛给jvm</span><br>    System.out.println(<span class="hljs-string">&quot;程序结束.....&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">format</span><span class="hljs-params">(String s)</span> <span class="hljs-keyword">throws</span> ParseException, FileNotFoundException &#123;<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">simpleDateFormat</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> simpleDateFormat.parse(s);<span class="hljs-comment">//把异常抛给方法的调用者</span><br>    System.out.println(date);<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;D://aafdsa/a.txt&quot;</span>);<br>    System.out.println(is);<br>&#125;<br></code></pre></td></tr></table></figure>



<ul>
<li>方式二 try catch</li>
</ul>
<p>监视捕获异常，用在方法内部，可以将方法内部出现的异常直接捕获处理。</p>
<p>这种方式还可以，发生异常的方法自己独立完成异常的处理，程序可以继续往下执行</p>
<ul>
<li>格式：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java">  <span class="hljs-keyword">try</span>&#123;<br>  <span class="hljs-comment">// 监视可能出现异常的代码！</span><br>  &#125;<span class="hljs-keyword">catch</span>(异常类型<span class="hljs-number">1</span> 变量)&#123;<br>  <span class="hljs-comment">// 处理异常 一般是打印异常栈信息</span><br>  &#125;<span class="hljs-keyword">catch</span>(异常类型<span class="hljs-number">2</span> 变量)&#123;<br>  <span class="hljs-comment">// 处理异常 一般是打印异常栈信息</span><br>  &#125;<br>  <br>  建议格式：<br>  <span class="hljs-keyword">try</span>&#123;<br>  <span class="hljs-comment">// 可能出现异常的代码！</span><br>  &#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>  e.printStackTrace(); <span class="hljs-comment">// 直接打印异常栈信息</span><br>  &#125;<br><br><span class="hljs-comment">//Exception可以捕获处理一切异常类型！</span><br></code></pre></td></tr></table></figure>





<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    System.out.println(<span class="hljs-string">&quot;程序开始.....&quot;</span>);<br>    format(<span class="hljs-string">&quot;1231321313&quot;</span>);<br>    System.out.println(<span class="hljs-string">&quot;程序结束.....&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">format</span><span class="hljs-params">(String s)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">simpleDateFormat</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> simpleDateFormat.parse(s);<span class="hljs-comment">//当此处出现异常时，下面的代码不会在执行；但还会跑try范围之外的代码，直到跑完</span><br>        System.out.println(date);<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;D://aafdsa/a.txt&quot;</span>);<br>        System.out.println(is);<br>    &#125; <span class="hljs-keyword">catch</span> (ParseException e) &#123;<span class="hljs-comment">//只会抓到一处异常，看谁先出异常</span><br>        e.printStackTrace();<br>    &#125; <span class="hljs-keyword">catch</span> (FileNotFoundException e) &#123;<span class="hljs-comment">//只会抓到一处异常，看谁先出异常</span><br>        e.printStackTrace();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">程序开始.....<br>java<span class="hljs-selector-class">.text</span><span class="hljs-selector-class">.ParseException</span>: Unparseable date: <span class="hljs-string">&quot;1231321313&quot;</span><br>	at java<span class="hljs-selector-class">.text</span><span class="hljs-selector-class">.DateFormat</span><span class="hljs-selector-class">.parse</span>(DateFormat<span class="hljs-selector-class">.java</span>:<span class="hljs-number">366</span>)<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.format</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">28</span>)<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.main</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">21</span>)<br>程序结束.....<br></code></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    System.out.println(<span class="hljs-string">&quot;程序开始.....&quot;</span>);<br>    format(<span class="hljs-string">&quot;1231321313&quot;</span>);<br>    System.out.println(<span class="hljs-string">&quot;程序结束.....&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">format</span><span class="hljs-params">(String s)</span> &#123;<br><br>    <span class="hljs-keyword">final</span> <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">simpleDateFormat</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>    <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>        date = simpleDateFormat.parse(s);<span class="hljs-comment">//当此处出现异常时，下面的代码不会在执行；但还会跑try范围之外的代码，直到跑完</span><br>    &#125; <span class="hljs-keyword">catch</span> (ParseException e) &#123;<br>        e.printStackTrace();<br>    &#125;<br>    System.out.println(date);<br>    <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>        is = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;D://aafdsa/a.txt&quot;</span>);<span class="hljs-comment">//这里也会跑，然后报错</span><br>    &#125; <span class="hljs-keyword">catch</span> (FileNotFoundException e) &#123;<br>        e.printStackTrace();<br>    &#125;<br>    System.out.println(is);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs stylus">程序开始.....<br>java<span class="hljs-selector-class">.text</span><span class="hljs-selector-class">.ParseException</span>: Unparseable date: <span class="hljs-string">&quot;1231321313&quot;</span><br>	at java<span class="hljs-selector-class">.text</span><span class="hljs-selector-class">.DateFormat</span><span class="hljs-selector-class">.parse</span>(DateFormat<span class="hljs-selector-class">.java</span>:<span class="hljs-number">366</span>)<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.format</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">30</span>)<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.main</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">21</span>)<br>java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.FileNotFoundException</span>: D:\aafdsa\<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.txt</span> (系统找不到指定的路径。)<br>	at java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.FileInputStream</span><span class="hljs-selector-class">.open0</span>(Native Method)<br>	at java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.FileInputStream</span><span class="hljs-selector-class">.open</span>(FileInputStream<span class="hljs-selector-class">.java</span>:<span class="hljs-number">195</span>)<br>	at java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.FileInputStream</span>.&lt;init&gt;(FileInputStream<span class="hljs-selector-class">.java</span>:<span class="hljs-number">138</span>)<br>	at java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.FileInputStream</span>.&lt;init&gt;(FileInputStream<span class="hljs-selector-class">.java</span>:<span class="hljs-number">93</span>)<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.format</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">37</span>)<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.main</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">21</span>)<br>null<br>null<br>程序结束.....<br></code></pre></td></tr></table></figure>





<ul>
<li><strong>异常处理方式</strong>3 <strong>——</strong> <strong>前两者结合</strong></li>
</ul>
<p>方法直接将异通过throws抛出去给调用者<br>调用者收到异常后直接捕获处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;程序开始.....&quot;</span>);<br><br>    <span class="hljs-keyword">try</span> &#123;<br>        format(<span class="hljs-string">&quot;1231321313&quot;</span>);<span class="hljs-comment">//由调用者经行捕获，由此可以得知方法执行情况；也可以通过返回值来判断</span><br>    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>        e.printStackTrace();<br>    &#125;<br><br>    System.out.println(<span class="hljs-string">&quot;程序结束.....&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">format</span><span class="hljs-params">(String s)</span> <span class="hljs-keyword">throws</span> Exception &#123;<span class="hljs-comment">//方法直接将异常抛给调用者</span><br><br>    <span class="hljs-keyword">final</span> <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">simpleDateFormat</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>    <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    date = simpleDateFormat.parse(s);<span class="hljs-comment">//当此处出现异常时，下面的代码不会在执行；但还会跑try范围之外的代码，直到跑完</span><br><br>    System.out.println(date);<br>    <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>    is = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;D://aafdsa/a.txt&quot;</span>);<span class="hljs-comment">//这里也会跑，然后报错</span><br>    System.out.println(is);<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>小结</li>
</ul>
<p>在开发中按照规范来说第三种方式是最好的：底层的异常抛出去给最外层，最外层集中捕获处理。</p>
<p>实际应用中，只要代码能够编译通过，并且功能能完成，那么每一种异常处理方式似乎也都是可以的。</p>
<h3 id="运行时异常的处理机制"><a href="#运行时异常的处理机制" class="headerlink" title="运行时异常的处理机制"></a>运行时异常的处理机制</h3><p>运行时异常编译阶段不会出错，是运行时才可能出错的，所以编译阶段不处理也可以</p>
<p>按照规范建议还是处理：建议在最外层调用处集中捕获处理即可</p>
<p>  因为编写出现异常的方法默认外抛RuntimeException</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;程序开始.....&quot;</span>);<br>    chu(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<span class="hljs-comment">//如果没有进行异常捕获，出现异常时，从这里开始就挂了；不会往下执行</span><br>    System.out.println(<span class="hljs-string">&quot;程序结束.....&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">chu</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> <span class="hljs-keyword">throws</span> RuntimeException &#123;<span class="hljs-comment">//运行时异常默认是外抛RuntimeException,写不写都有</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> a / b;<span class="hljs-comment">//出现异常，外抛</span><br>    System.out.println(c);<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">程序开始.....<br>Exception <span class="hljs-keyword">in</span> thread <span class="hljs-string">&quot;main&quot;</span> java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.ArithmeticException</span>: / by zero<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.chu</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">26</span>)<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo</span><span class="hljs-selector-class">.main</span>(ExceptionDemo<span class="hljs-selector-class">.java</span>:<span class="hljs-number">21</span>)<br></code></pre></td></tr></table></figure>





<ul>
<li>异常处理时代码稳健案例</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">guess</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            System.out.print(<span class="hljs-string">&quot;请输入数据：&quot;</span>);<br>            <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> sc.nextLine();<br>            <span class="hljs-keyword">final</span> <span class="hljs-type">Double</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> Double.valueOf(data);<br>            <span class="hljs-keyword">if</span> (value &gt; <span class="hljs-number">0</span>) &#123;<br>                System.out.println(<span class="hljs-string">&quot;成功输入：&quot;</span> + value);<br>                <span class="hljs-keyword">break</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;请输入正数！&quot;</span>);<br>            &#125;<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;请输入合法数据&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs erlang">请输入数据：.<br>请输入合法数据<br>请输入数据：.<span class="hljs-number">0</span><br>请输入正数！<br>请输入数据：<span class="hljs-number">0.1</span><br>成功输入：<span class="hljs-number">0.1</span><br></code></pre></td></tr></table></figure>





<h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h3><ul>
<li><strong>自定义异常的必要性</strong></li>
</ul>
<p>Java无法为这个世界上全部的问题提供异常类。<br>如果企业想通过异常的方式来管理自己的某个业务问题，就需要自定义异常类了</p>
<ul>
<li><strong>自定义异常的好处：</strong></li>
</ul>
<p>可以使用异常的机制管理业务问题，如提醒程序员注意</p>
<p>同时一旦出现bug，可以用异常的形式清晰的指出出错的地方</p>
<ul>
<li><strong>自定义异常的分类</strong></li>
</ul>
<p>1、自定义编译时异常       </p>
<ul>
<li><p>定义一个异常类继承Exception.</p>
</li>
<li><p>重写构造器。</p>
</li>
<li><p>在出现异常的地方用throw new 自定义对象抛出，</p>
<p>作用：编译时异常是编译阶段就报错，提醒更加强烈，一定需要处理！！</p>
</li>
</ul>
<p>2、自定义运行时异常</p>
<ul>
<li><p>定义一个异常类继承RuntimeException.</p>
</li>
<li><p>重写构造器</p>
</li>
<li><p>在出现异常的地方用throw new 自定义对象抛出!</p>
<p>作用：提醒不强烈，编译阶段不报错！！运行时才可能出现！！</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AgeIllegalException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Exception</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AgeIllegalException</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AgeIllegalException</span><span class="hljs-params">(String message)</span> &#123;<br>        <span class="hljs-built_in">super</span>(message);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> exception_demo;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionDemo2</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            checkAge(-<span class="hljs-number">12</span>);<span class="hljs-comment">//编译时异常,此时选择捕获</span><br>        &#125; <span class="hljs-keyword">catch</span> (AgeIllegalException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;程序结束！&quot;</span>);<br>    &#125;<br><br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     throw:在方法内部创建一个异常对象，从此点抛出一个编译时异常;此时应该在方法申明上外抛给调用者</span><br><span class="hljs-comment">     </span><br><span class="hljs-comment">     throws:在方法申明上外抛方法内部的没有处理异常给调用者</span><br><span class="hljs-comment">     * */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> <span class="hljs-keyword">throws</span> AgeIllegalException &#123;<br>        <span class="hljs-keyword">if</span> (age &lt; <span class="hljs-number">0</span> || age &gt; <span class="hljs-number">120</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AgeIllegalException</span>(age + <span class="hljs-string">&quot; is ilegal!&quot;</span>);<span class="hljs-comment">//从此点抛出一个编译时异常</span><br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;Age is legal!Please go on!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">exception_demo<span class="hljs-selector-class">.AgeIllegalException</span>: -<span class="hljs-number">12</span> is ilegal!<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo2</span><span class="hljs-selector-class">.checkAge</span>(ExceptionDemo2<span class="hljs-selector-class">.java</span>:<span class="hljs-number">31</span>)<br>	at exception_demo<span class="hljs-selector-class">.ExceptionDemo2</span><span class="hljs-selector-class">.main</span>(ExceptionDemo2<span class="hljs-selector-class">.java</span>:<span class="hljs-number">15</span>)<br>程序结束！<br></code></pre></td></tr></table></figure>









<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * 当该异常不会经常被触发，或影响不是很大，就定义成运行时异常</span><br><span class="hljs-comment"> * */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AgeIllegalException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RuntimeException</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AgeIllegalException</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AgeIllegalException</span><span class="hljs-params">(String message)</span> &#123;<br>        <span class="hljs-built_in">super</span>(message);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionDemo2</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            checkAge(-<span class="hljs-number">12</span>);<span class="hljs-comment">//运行时异常,此时选择捕获;可以不捕获运行时异常</span><br>        &#125; <span class="hljs-keyword">catch</span> (AgeIllegalException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;程序结束！&quot;</span>);<br>    &#125;<br><br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     *throw:在方法内部创建一个异常对象，从此点抛出一个编译时异常;此时应该在方法申明上外抛给调用者</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * throws:在方法申明上外抛方法内部的没有处理异常给调用者</span><br><span class="hljs-comment">     * */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-keyword">if</span> (age &lt; <span class="hljs-number">0</span> || age &gt; <span class="hljs-number">120</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AgeIllegalException</span>(age + <span class="hljs-string">&quot; is ilegal!&quot;</span>);<span class="hljs-comment">//从此点抛出一个编译时异常</span><br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;Age is legal!Please go on!&quot;</span>);<br>    &#125;<br><br>&#125;<br><br><br></code></pre></td></tr></table></figure>





<h2 id="异常体系"><a href="#异常体系" class="headerlink" title="异常体系"></a>异常体系</h2><h3 id="日志技术的概述"><a href="#日志技术的概述" class="headerlink" title="日志技术的概述"></a>日志技术的概述</h3><p>程序中的日志： 程序中的日志可以用来记录程序运行过程中的信息，并可以进行永久存储</p>
<ul>
<li><strong>输出语句的弊端</strong></li>
</ul>
<p>信息只能展示在控制台<br>不能将其记录到其他的位置（文件，数据库）<br>想取消记录的信息需要修改代码才可以完成</p>
<ul>
<li><strong>日志技术具备的优势</strong></li>
</ul>
<p>可以将系统执行的信息选择性的记录到指定的位置（控制台、文件中、数据库中）。<br>可以随时以开关的形式控制是否记录日志，无需修改源代码</p>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261843658.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<h3 id="日志技术体系"><a href="#日志技术体系" class="headerlink" title="日志技术体系"></a>日志技术体系</h3><hr>
<p><img src="https://cdn.jsdelivr.net/gh/fgcy-333/gitnote-images/2022/8/27202208261843437.png" srcset="/img/loading.gif" lazyload></p>
<hr>
<p>日志规范：一些接口，提供给日志的实现框架设计的标准。<br>日志框架：牛人或者第三方公司已经做好的日志记录实现代码，后来者直接可以拿去使用。<br>因为对Commons Logging的接口不满意，有人就搞了SLF4J。因为对Log4j的性能不满意，有人就搞了Logback。<br>logback实现了Simple Logging Facade for java</p>
<h3 id="Logback概述"><a href="#Logback概述" class="headerlink" title="Logback概述"></a>Logback概述</h3><ul>
<li>概述</li>
</ul>
<p>Logback是由log4j创始人设计的另一个开源日志组件，性能比log4j要好</p>
<blockquote>
<p>官网地址：<a target="_blank" rel="noopener" href="https://logback.qos.ch/index.html">https://logback.qos.ch/index.html</a> </p>
</blockquote>
<p>Logback是基于slf4j的日志规范实现的框架。logback是Simple Logging Facade for java的实现类</p>
<ul>
<li><strong>Logback</strong>主要分为四个技术模块</li>
</ul>
<p>logback-core： logback-core 模块为其他两个模块奠定了基础，必须有。<br>logback-classic：它是log4j的一个改良版本，同时它完整实现了slf4j API。<br>logback-access 模块与 Tomcat 和 Jetty 等 Servlet 容器集成，以提供 HTTP 访问日志功能<br>slf4j-api：日志规范 java并没有提供slf4j的接口文件</p>
<h3 id="Logback快速入门"><a href="#Logback快速入门" class="headerlink" title="Logback快速入门"></a>Logback快速入门</h3><ol>
<li><p>在项目下新建文件夹lib，导入Logback的相关jar包到该文件夹下，并添加到项目依赖库中去。(code、classic、slf4japi)到maven找</p>
</li>
<li><p>将Logback的核心配置文件logback.xml直接拷贝到src目录下（必须是src下）</p>
</li>
<li><p>在代码中获取日志的对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">LOGGER</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(<span class="hljs-string">&quot;类对象&quot;</span>);<br></code></pre></td></tr></table></figure>
</li>
<li><p>使用日志对象LOGGER调用其方法输出日志信息</p>
</li>
</ol>
<hr>
<ul>
<li>快速入门</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.slf4j.Logger;<br><span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogbackDemo</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">LOGGER</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(<span class="hljs-string">&quot;LogbackDemo.class&quot;</span>);<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                LOGGER.info(<span class="hljs-string">&quot;程序即将执行.....&quot;</span>);<br>                <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>                LOGGER.trace(<span class="hljs-string">&quot;a=&quot;</span> + a);<br>                <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                LOGGER.trace(<span class="hljs-string">&quot;b=&quot;</span> + b);<br>                LOGGER.debug(<span class="hljs-string">&quot;a / b=&quot;</span> + a / b);<br>            &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>                e.printStackTrace();<br>                LOGGER.error(e + <span class="hljs-string">&quot;&quot;</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-number">2022</span>-<span class="hljs-number">03</span>-<span class="hljs-number">13</span> <span class="hljs-number">21</span>:<span class="hljs-number">43</span>:<span class="hljs-number">05.283</span> <span class="hljs-selector-attr">[INFO ]</span> LogbackDemo<span class="hljs-selector-class">.class</span> <span class="hljs-selector-attr">[main]</span> : 程序即将执行.....<br><span class="hljs-number">2022</span>-<span class="hljs-number">03</span>-<span class="hljs-number">13</span> <span class="hljs-number">21</span>:<span class="hljs-number">43</span>:<span class="hljs-number">05.283</span> <span class="hljs-selector-attr">[TRACE]</span> LogbackDemo<span class="hljs-selector-class">.class</span> <span class="hljs-selector-attr">[main]</span> : a=<span class="hljs-number">10</span><br><span class="hljs-number">2022</span>-<span class="hljs-number">03</span>-<span class="hljs-number">13</span> <span class="hljs-number">21</span>:<span class="hljs-number">43</span>:<span class="hljs-number">05.283</span> <span class="hljs-selector-attr">[TRACE]</span> LogbackDemo<span class="hljs-selector-class">.class</span> <span class="hljs-selector-attr">[main]</span> : b=<span class="hljs-number">0</span><br><span class="hljs-number">2022</span>-<span class="hljs-number">03</span>-<span class="hljs-number">13</span> <span class="hljs-number">21</span>:<span class="hljs-number">43</span>:<span class="hljs-number">05.283</span> <span class="hljs-selector-attr">[ERROR]</span> LogbackDemo<span class="hljs-selector-class">.class</span> <span class="hljs-selector-attr">[main]</span> : java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.ArithmeticException</span>: / by zero<br></code></pre></td></tr></table></figure>



<ul>
<li><strong>logback的配置文件</strong></li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        CONSOLE ：配置输出到控制台的日志格式</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;CONSOLE&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--输出流对象 默认 System.out 改为 System.err所有用log输出的东西都死红色的--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">target</span>&gt;</span>System.out<span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度</span><br><span class="hljs-comment">                %msg：日志消息，%n是换行符--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%-5level] %c [%thread] : %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- FILE配置输出到文件的日志格式 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;FILE&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--日志输出路径--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>C:/code/itheima-data.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--指定日志文件拆分和压缩规则--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span></span><br><span class="hljs-tag">                <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--通过指定压缩文件名称，来确定分割文件方式--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>D:\learn\黑马程序员\java基础\day18、日志框架、阶段项目\\data-%d&#123;yyyy-MMdd&#125;.log%i.gz<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--文件拆分大小--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>1MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF</span><br><span class="hljs-comment">   ， 默认debug</span><br><span class="hljs-comment">    &lt;root&gt;可以包含零个或多个&lt;appender-ref&gt;元素，标识这个输出位置将会被本日志级别控制。</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;ALL&quot;</span>&gt;</span><span class="hljs-comment">&lt;!-- 这里的ALL表示打印一切级别的日志--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;CONSOLE&quot;</span>/&gt;</span><span class="hljs-comment">&lt;!--  将信息打印到控制台    --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;FILE&quot;</span>/&gt;</span><span class="hljs-comment">&lt;!--  将信息打印到文件    --&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="Logback配置详解-输出位置、格式设置"><a href="#Logback配置详解-输出位置、格式设置" class="headerlink" title="Logback配置详解-输出位置、格式设置"></a>Logback配置详解-输出位置、格式设置</h3><ul>
<li>核心配置文件</li>
</ul>
<p>Logback日志系统的特性都是通过核心配置文件logback.xml控制的</p>
<ul>
<li><strong>Logback</strong>日志输出位置、格式设置：</li>
</ul>
<p>通过logback.xml 中的&lt;append&gt;标签可以设置输出位置和日志信息的详细格式。<br>通常可以设置2个日志输出位置：一个是控制台、一个是系统文件中<br> 输出到控制台的配置标志<br>  &lt;appender name&#x3D;”CONSOLE” class&#x3D;”ch.qos.logback.core.ConsoleAppender”&gt;<br> 输出到系统文件的配置标志<br> &lt;appender name&#x3D;”FILE” class&#x3D;”ch.qos.logback.core.rolling.RollingFileAppender”&gt;</p>
<h3 id="Logback配置详解-日志级别设置"><a href="#Logback配置详解-日志级别设置" class="headerlink" title="Logback配置详解-日志级别设置"></a>Logback配置详解-日志级别设置</h3><ul>
<li>如果系统上线后只想记录一些错误的日志信息或者不想记录日志了，怎么办</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">可以通过设置日志的输出级别来控制哪些日志信息输出或者不输出。<br></code></pre></td></tr></table></figure>

<ul>
<li>日志级别</li>
</ul>
<p>级别程度依次是：TRACE&lt; DEBUG&lt; INFO&lt;WARN&lt;ERROR  ; 默认级别是debug（忽略大小写），对应其方法。<br>作用：用于控制系统中哪些日志级别是可以输出的，只输出级别 不低于 设定级别的日志信息。<br>DEBUG级别：只打INFO,WARN,ERRO,不大TRACE</p>
<p>ALL  和 OFF分别是打开全部日志信息，及关闭全部日志信息</p>
<p>具体在&lt;root level&#x3D;”INFO”&gt;标签的level属性中设置日志级别</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;root <span class="hljs-keyword">level</span>=&quot;INFO&quot;&gt;<br>&lt;appender-<span class="hljs-keyword">ref</span> <span class="hljs-keyword">ref</span>=&quot;CONSOLE&quot;/&gt;<br>&lt;appender-<span class="hljs-keyword">ref</span> <span class="hljs-keyword">ref</span>=&quot;FILE&quot; /&gt;<br>&lt;/root&gt;<br></code></pre></td></tr></table></figure>



<ul>
<li>小结</li>
</ul>
<p>Logback的日志级别是什么样的？<br>级别程度依次是：TRACE&lt; DEBUG&lt; INFO&lt;WARN&lt;ERROR<br>默认级别是debug（忽略大小写），只输出不低于当前级别的日志<br>ALL  和 OFF分别是打开全部日志和关闭全部日志</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E8%A7%86%E9%A2%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="category-chain-item">视频学习笔记</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Java%E5%9F%BA%E7%A1%80-heima/">#Java基础-heima</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>不可变集合与Stream流与异常-heima-xl</div>
      <div>http://example.com/2023/03/30/Java基础-徐磊-不可变集合与Stream流与异常/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>March 30, 2023</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/03/30/Java%E5%9F%BA%E7%A1%80-%E5%BE%90%E7%A3%8A-String%E4%B8%8EArrayList%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" title="String与ArrayList的基本使用-heima-xl">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">String与ArrayList的基本使用-heima-xl</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/03/30/Java%E5%9F%BA%E7%A1%80-%E5%BE%90%E7%A3%8A-%E5%B8%B8%E7%94%A8API%E4%B8%8ELambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95/" title="常用API与Lambda表达式与常见算法-heima-xl">
                        <span class="hidden-mobile">常用API与Lambda表达式与常见算法-heima-xl</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"Oze0hj3aeXZiU9t1wF6isj3d-MdYXbMMI","appKey":"XmxaZqmghg1gRNKSXgk6jCky","path":"window.location.pathname","placeholder":"吐槽","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"https://oze0hj3a.api.lncldglobal.com","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>WAITING</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
